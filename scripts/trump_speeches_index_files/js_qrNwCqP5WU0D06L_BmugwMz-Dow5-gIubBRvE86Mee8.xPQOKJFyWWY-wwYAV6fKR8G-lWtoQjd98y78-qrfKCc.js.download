(function(t){if(typeof define==='function'&&define.amd){define(['jquery'],t)}
else if(typeof exports==='object'){t(require('jquery'))}
else{t(jQuery)}}(function(e){var t=function(i,o){this.$element=e(i);this.options=e.extend({},t.DEFAULTS,this.dataOptions(),o);this.init()};t.DEFAULTS={from:0,to:0,speed:1000,refreshInterval:100,decimals:0,formatter:i,onUpdate:null,onComplete:null};t.prototype.init=function(){this.value=this.options.from;this.loops=Math.ceil(this.options.speed/this.options.refreshInterval);this.loopCount=0;this.increment=(this.options.to-this.options.from)/this.loops};t.prototype.dataOptions=function(){var t={from:this.$element.data('from'),to:this.$element.data('to'),speed:this.$element.data('speed'),refreshInterval:this.$element.data('refresh-interval'),decimals:this.$element.data('decimals')};var i=Object.keys(t);for(var o in i){var e=i[o];if(typeof(t[e])==='undefined'){delete t[e]}};return t};t.prototype.update=function(){this.value+=this.increment;this.loopCount++;this.render();if(typeof(this.options.onUpdate)=='function'){this.options.onUpdate.call(this.$element,this.value)};if(this.loopCount>=this.loops){clearInterval(this.interval);this.value=this.options.to;if(typeof(this.options.onComplete)=='function'){this.options.onComplete.call(this.$element,this.value)}}};t.prototype.render=function(){var t=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(t)};t.prototype.restart=function(){this.stop();this.init();this.start()};t.prototype.start=function(){this.stop();this.render();this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)};t.prototype.stop=function(){if(this.interval){clearInterval(this.interval)}};t.prototype.toggle=function(){if(this.interval){this.stop()}
else{this.start()}};function i(t,e){return t.toFixed(e.decimals)};e.fn.countTo=function(i){return this.each(function(){var n=e(this),o=n.data('countTo'),r=!o||typeof(i)==='object',a=typeof(i)==='object'?i:{};var s=typeof(i)==='string'?i:'start';if(r){if(o)o.stop();n.data('countTo',o=new t(this,a))};o[s].call(o)})}}));